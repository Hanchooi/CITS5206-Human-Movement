.mode csv
.headers on
.import output/finalData.csv records
.import data/visited_places.csv visitedPlaces

.output output/finalData.csv

SELECT ROUND(records.latitude,4) AS lat4 , ROUND(records.longitude,4) AS long4, * FROM records
LEFT JOIN (SELECT ROUND(visitedPlaces.latitude,4) AS lat4_vis , ROUND(visitedPlaces.longitude,4) AS long4_vis, 
visitedPlaces.id AS id_vis, visitedPlaces.longitude AS long_vis, visitedPlaces.latitude AS lat_vis FROM visitedPlaces)
ON lat4 = lat4_vis AND long4 = long4_vis AND id = id_vis;

.output stdout